<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Junjianxin的天气预报</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/responsive.css" />
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <div class="weather-app" id="app">
      <!-- 头部搜索 -->
      <header>
        <div class="search-wrapper">
          <div class="search-box">
            <input type="text" placeholder="输入城市名称..." id="city-input" />
            <div class="search-suggestions" id="search-suggestions"></div>
            <button id="location-btn" title="获取当前位置">📍</button>
          </div>

          <div class="unit-toggle">
            <span class="unit-label">温度单位:</span>
            <div class="unit-buttons">
              <button id="celsius" class="active">摄氏度 °C</button>
              <button id="fahrenheit">华氏度 °F</button>
            </div>
          </div>
        </div>

        <div class="right-section">
          <div class="history-section">
            <div class="history-header">
              <span class="history-title">历史记录</span>
              <button
                id="clear-history-btn"
                class="clear-history-btn"
                title="清除历史记录"
              >
                <span>清理</span> 🗑️
              </button>
            </div>
            <div class="city-history" id="city-history">
              <!-- 历史城市将在这里动态添加 -->
            </div>
          </div>
        </div>
      </header>

      <!-- 主天气显示 -->
      <main>
        <div class="current-weather">
          <div class="location">
            <h2 id="city-name">加载中...</h2>
            <p id="current-date">--</p>
          </div>
          <div class="weather-info">
            <h1 class="temperature" id="current-temp">--°</h1>
            <div class="weather-icon" id="weather-icon"></div>
            <p class="weather-desc" id="weather-desc">--</p>
          </div>
          <div class="details">
            <div class="detail-item">
              <span class="detail-label">湿度</span>
              <span class="detail-value" id="humidity">--%</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">风速</span>
              <span class="detail-value" id="wind-speed">--km/h</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">气压</span>
              <span class="detail-value" id="pressure">--hPa</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">体感温度</span>
              <span class="detail-value" id="feels-like">--°</span>
            </div>
          </div>
          <div class="air-quality" id="air-quality">
            <h3>空气质量</h3>
            <div class="aqi-indicator">
              <div class="aqi-value" id="aqi-value">--</div>
              <div class="aqi-bar">
                <div class="aqi-fill" id="aqi-fill"></div>
              </div>
              <div class="aqi-label" id="aqi-label">--</div>
            </div>
          </div>
        </div>

        <!-- 天气警报 -->
        <div class="weather-alert" id="weather-alert"></div>
      </main>

      <!-- 预报区域 -->
      <section class="forecast-section">
        <nav class="tab-nav">
          <button class="tab-btn active" data-tab="hourly">小时预报</button>
          <button class="tab-btn" data-tab="daily">未来预报</button>
          <button class="tab-btn" data-tab="life">生活指数</button>
        </nav>

        <div class="tab-content">
          <div class="tab-pane active" id="hourly-forecast">
            <div class="hourly-chart-container">
              <canvas id="hourly-chart"></canvas>
            </div>
            <div class="hourly-list" id="hourly-list">
              <!-- 动态生成小时预报 -->
            </div>
          </div>

          <div class="tab-pane" id="daily-forecast">
            <div class="daily-list" id="daily-list">
              <!-- 动态生成每日预报 -->
            </div>
          </div>

          <div class="tab-pane" id="life-index">
            <div class="life-indices">
              <div class="life-index-item" id="clothing-index">
                <div class="index-icon">👕</div>
                <div class="index-name">穿衣指数</div>
                <div class="index-value">--</div>
              </div>
              <div class="life-index-item" id="uv-index">
                <div class="index-icon">☀️</div>
                <div class="index-name">紫外线指数</div>
                <div class="index-value">--</div>
              </div>
              <div class="life-index-item" id="sport-index">
                <div class="index-icon">🏃</div>
                <div class="index-name">运动指数</div>
                <div class="index-value">--</div>
              </div>
              <div class="life-index-item" id="car-wash-index">
                <div class="index-icon">🚗</div>
                <div class="index-name">洗车指数</div>
                <div class="index-value">--</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 加载动画 -->
      <div class="loading" id="loading">
        <div class="loading-cloud">
          <div class="cloud-body"></div>
          <div class="cloud-circle c1"></div>
          <div class="cloud-circle c2"></div>
          <div class="cloud-circle c3"></div>
        </div>
        <p>数据加载中...</p>
      </div>
    </div>

    <!-- 错误提示 -->
    <div class="error-message" id="error-message">
      <div class="error-icon">⚠️</div>
      <p id="error-text">网络连接错误，请检查您的网络设置</p>
      <button id="retry-btn">重试</button>
    </div>

    <script src="js/config.js"></script>
    <script src="js/weatherIcons.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
